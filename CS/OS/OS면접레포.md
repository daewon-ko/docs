# 운영체제
#docs/CS

https://github.com/VSFe/Tech-Interview/blob/main/02-OPERATING_SYSTEM.md

### 시스템 콜이 무엇인지 설명해주세요
* 시스템 콜이란
  * OS의 커널이 제공하는 서비스에 대해, 응용프로그램의 요청에 따라 커널에 접근하기 위한 인터페이스
  * C나 C++ (당연히 자바 언어도 포함)과 같은 고급언어로 작성된 프로그램은 직접 시스템콜 호출이 불가능 하므로 고급 API를 통해 시스템 호출에 접근하게 하는 방법
* 시스템 콜의 예시
  * > cp in.txt out.txt
  * 위와 같은 in.txt파일을 out.txt로 복사하는 간단한 명령에도 시스템 콜이 사용된다. 
    * cp 명령어는 사용자 영역에서 실행되지만, 실제로 읽고 쓰는 작업은 커널의 시스템 콜을 통해 이뤄진다.
    * 파일 열기(open 시스템 콜) -> 파일 읽기(read 시스템 콜) -> 파일 쓰기(write 시스템 콜) -> 파일 닫기(close 시스템 콜)
* 시스템 콜이 사용되는 이유
  * 안정성(보안)
  * 메모리 보호(잘못된 포인터 접근이나 악성코드로부터 커널과 다른 프로세스의 메모리를 격리)
  * 프로세스간 간섭방지(하나의 프로그램이 망가져도 전체 운영체제나 타 프로그램은 치명적 영향이 발생하지 않음)
  * 위 기능이 커널모드가 수행하는 역할이라고 할 수 있다.
* 시스템 콜이 운영체제에서 실행되는 과정
  * 유저모드에서 시스템 콜 요청
    * 유저모드에서 파일 읽기, 쓰기 등의 시스템 콜 함수를 호출
* 시스템 콜의 유형
  * 프로세스 제어
    * fork(), exec(), exit(), wait() 등 프로세스 생성,종료,전환 등을 다룸
  * 파일 조작
    * open(), close(), 
  * 장치 관리
    * read(), write() 등 I/O 디바이스 제어와 관련된 시스템 콜
  * 정보 유지
    * getpid(), gettimeofda(), uname() 등 시세틈 정보나 시간, 프로세스 식별자 등을 가져옴
  * 통신
    * 소켓과 관련되어있거나 프로세스 간 혹은 네트워크 통신을 위한 시스템 콜
* 운영체제의 DualMode
  * 운영체제가 유저모드, 커널모드라는 두가지 모드로 실행되는 것을 의미한다.
  * 유저모드 
    * 일반 프로세스나 응용프램이 실행되는 운영체제의 환경으로 권한이 제한된다.
    * 유저모드 프로그램은 ‘유저 영역’에 위치하며 커널 영역에 직접 접근할 수 없다.
  * 커널모드
    * 운영체제 커널이 동작하며, 하드웨어와 메모리에 대한 직접적인 접근 권한을 가진다.
    * 커널 모드 프로그램은 커널영역에 위치하며 하드웨어와 직접 상호작용한다.
```
+-----------------------+ <- 메모리 최상위 주소 
| 커널 영역 (Kernel)  |  <- 커널모드에서 실행 | 
 - 운영체제 커널 코드 | 
|  -장치 드라이버  |
 |  - 네트워크 스택  | 
+-----------------------+ <- 커널 영역 경계
 | 사용자 영역 (User)  |  <- 유저모드에서 실행 
|  - 응용 프로그램  | 
|  - 라이브러리  | 
|  - 사용자 프로세스  | 
+-----------------------+ <- 메모리 최하위 주소
```
* 왜 유저모드와 커널모드로 구분되는가? 
  * 두 가지 영역으로 나눠서 OS가 동작하는 이유는 시스템 자원의 무분별한 접근과 오작동을 막고 안정성 보장을 하기 위함이다. 만약 유저모드의 프로그램이 메모리 할당과 하드웨어 자원을 제어한다면 안정성 및 메모리 보호 및 프로세스 간 간섭문제가 생길 수 있으나 커널모드에서 이를 제어할 수 있다. 
* 서로 다른 시스템 콜을 어떻게 구분할 수 있을까? 
  * OS 내부적으로 각 시스템 콜마다 고유 번호를 부여하고 있다. 
  * 커널 코드에서 이 번호에 따라 적절한 처리 함수를 호출하며 해당 시스템콜을 호출하는 클라이언트(유저모드의 프로그램)은 open(), read()와 같은 함수 이름과 인자로 함수를 구분한다.(C언어에서는 실제 그렇게 호출함)



